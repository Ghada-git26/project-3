(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{79:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(23),i=a.n(s),r=a(9),l=a(5),o=a(6),h=a(8),j=a(7),d=a(49),u=a.n(d).a.create({baseURL:"https://gluten-free-up-react.herokuapp.com",withCredentials:!0});function b(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var m={service:u,signup:function(e){return u.post("/api/auth/signup",e).then((function(e){return e.data})).catch(b)},signin:function(e){return u.post("/api/auth/signin",e).then((function(e){return e.data})).catch(b)},isLoggedIn:function(){return u.get("/api/users/me").then((function(e){return e.data})).catch(b)},logout:function(){return u.get("/api/auth/logout").then((function(e){return e.data})).catch(b)},getRecipes:function(){return u.get("/api/recipes/all").then((function(e){return e.data})).catch(b)},getRecipe:function(e){return u.get("/api/recipes/GetRecipe/".concat(e)).then((function(e){return e.data})).catch(b)},getSearchResults:function(e){return u.get("/api/recipes/search/".concat(e)).then((function(e){return e.data})).catch(b)},setFavRecipe:function(e){return u.get("/api/recipes/setFavourite/".concat(e)).then((function(e){return e.data})).catch(b)},getFavRecipe:function(){return u.get("/api/recipes/getFavourite/").then((function(e){return e.data})).catch(b)},unsetFavRecipe:function(e){return u.get("/api/recipes/unsetFavourite/".concat(e)).then((function(e){return e.data})).catch(b)},postRecipe:function(e){return u.post("/api/recipes",e).then((function(e){return e.data})).catch(b)},removeRecipe:function(e){return u.delete("/api/recipes/".concat(e)).then((function(e){return e.data})).catch(b)},updateRecipe:function(e,t){return u.patch("/api/recipes/".concat(e),t).then((function(e){return e.data})).catch(b)},addRecipe:function(e){return u.post("/api/recipes",e).then((function(e){return e.data})).catch(b)},buildFormData:function(e,t,a){var c=this;if(!t||"object"!==typeof t||t instanceof Date||t instanceof File){var n=null==t?"":t;e.append(a,n)}else Object.keys(t).forEach((function(n){c.buildFormData(e,t[n],a?"".concat(a,"[").concat(n,"]"):n)}))},jsonToFormData:function(e){var t=new FormData;return this.buildFormData(t,e),t},postRating:function(e,t){return u.post("/api/recipes/rating/".concat(e," "),t).then((function(e){return e.data})).catch(b)},removeRating:function(e){return u.delete("/api/recipes/rating/".concat(e)).then((function(e){return e.data})).catch(b)}},p=n.a.createContext(),O=a(0),x=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={user:null,isLoggedIn:!1,isLoading:!0,isAdmin:!1},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0,isAdmin:t.isAdmin})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1,isAdmin:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.isLoggedIn().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1,isAdmin:t.isAdmin})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading,isAdmin:this.state.isAdmin};return Object(O.jsx)(p.Provider,{value:e,children:this.props.children})}}]),a}(c.Component),f=a(10),g=a(11),v=a(52),N=function(e){return function(t){return Object(O.jsx)(p.Consumer,{children:function(a){return Object(O.jsx)(e,Object(f.a)(Object(f.a)({},t),{},{context:a}))}})}},y=a(13),C=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={searchValue:""},c.handleSearch=c.handleSearch.bind(Object(y.a)(c)),c.doSearch=c.doSearch.bind(Object(y.a)(c)),c.handleKeyDown=c.handleKeyDown.bind(Object(y.a)(c)),c}return Object(o.a)(a,[{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.doSearch()}},{key:"handleSearch",value:function(e){var t=e.target.value;this.setState({searchValue:t})}},{key:"doSearch",value:function(){this.props.history.push("/Recipes/Search/"+this.state.searchValue)}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"input-group mb-3",children:[Object(O.jsx)("input",{onChange:this.handleSearch,onKeyDown:this.handleKeyDown,type:"text",className:"form-control",placeholder:"Search for a recipe"}),Object(O.jsx)("button",{onClick:this.doSearch,className:"btn btn-outline-secondary",type:"button",children:Object(O.jsx)("i",{className:"fa fa-search"})})]})}}]),a}(c.Component),k=Object(g.g)(C),R=(a(79),a.p+"static/media/chefHat.9906cd97.png"),D=a(100),w=a(101),F=a(102),S=a(106),I=a(103),A=a(104),L=a(105),E=Object(g.g)(N((function(e){var t=e.context,a=e.history,s=Object(c.useState)(!1),i=Object(v.a)(s,2),l=i[0],o=i[1];return Object(O.jsx)("div",{children:Object(O.jsxs)(D.a,{color:"light",light:!0,expand:"md",children:[Object(O.jsx)(w.a,{tag:r.b,to:"/",children:Object(O.jsxs)("div",{className:"app-logo",children:[Object(O.jsx)("img",{src:R,alt:"",className:"hat"}),Object(O.jsx)("h1",{className:"app-title",children:"Gluten Free Recipes"})]})}),Object(O.jsx)(F.a,{onClick:function(){return o(!l)}}),Object(O.jsx)(S.a,{isOpen:l,navbar:!0,className:"justify-content-end",children:Object(O.jsxs)(I.a,{className:"mr-auto",navbar:!0,children:["/"!==window.location.pathname&&Object(O.jsx)(A.a,{children:Object(O.jsx)(k,{})}),Object(O.jsx)(A.a,{children:Object(O.jsx)(L.a,{tag:r.b,to:"/Recipes",children:"All Recipes"})}),t.isLoggedIn&&Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)(A.a,{children:Object(O.jsx)(L.a,{tag:r.b,to:"/profile",children:t.user&&t.user.email})}),t.isAdmin&&Object(O.jsx)(A.a,{children:Object(O.jsx)(L.a,{tag:r.b,to:"/Recipes/create",children:"Add more Recipes"})}),Object(O.jsx)(A.a,{children:Object(O.jsx)("p",{className:"nav-NavItemnk nav-link",onClick:function(){m.logout().then((function(){t.removeUser(),a.push("/")})).catch((function(e){console.log(e)}))},children:"Logout"})})]}),!t.isLoggedIn&&Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)(A.a,{children:Object(O.jsx)(L.a,{tag:r.b,to:"/signin",children:"Log in"})}),Object(O.jsx)(A.a,{children:Object(O.jsx)(L.a,{tag:r.b,to:"/signup",children:"Create account"})})]})]})})]})})}))),U=(a(87),a.p+"static/media/home.c8a1d01b.png"),B=function(){return Object(O.jsxs)("div",{className:"container mt-5 mb-5",children:[Object(O.jsx)("div",{className:"card border-dark shadow mb-3",children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("div",{className:"mb-2",children:"Something on your mind, I bet we have a recipe for you. Have a look!"}),Object(O.jsx)(k,{className:"home-search"})]})}),Object(O.jsx)("div",{className:"card border-dark shadow",children:Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-6",children:Object(O.jsx)("div",{style:{backgroundImage:"url(".concat(U,")")},className:"home-img shadow",children:" "})}),Object(O.jsxs)("div",{className:"col-md-6 home-right",children:[Object(O.jsxs)("div",{className:" m-5",children:[Object(O.jsx)("h1",{children:"Gluten Free Recipes"}),Object(O.jsx)("h4",{children:"For coeliacs by a coeliac"})]}),Object(O.jsx)("div",{className:"m-5",children:Object(O.jsx)("p",{children:"Life Transforming, plant-rich super meals."})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"m-5",children:Object(O.jsx)(r.b,{to:"/Recipes",className:"btn btn-lg btn-dark",children:"Explore Recipes"})})})]})]})})})]})},_=a(20),M=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,c=t.target.value;e.setState(Object(_.a)({},a,c))},e.handleSubmit=function(t){t.preventDefault(),m.signin(e.state).then((function(t){e.props.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.props.context.user?Object(O.jsx)(g.a,{to:"/"}):Object(O.jsx)("div",{className:"login-form card shadow",children:Object(O.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(O.jsx)("h2",{className:"text-center",children:"Sign in"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Email",required:"required"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:"required"})]}),Object(O.jsxs)("div",{className:"mt-2 text-center",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"Sign In"}),Object(O.jsxs)("p",{className:"text-center mt-2",children:["Not a user? ",Object(O.jsx)(r.b,{to:"/signup",children:"Sign Up"})]})]})]})})}}]),a}(c.Component),q=Object(g.g)(N(M)),P=function(e){return Object(O.jsx)(q,{})},K=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.value,c=t.target.name;e.setState(Object(_.a)({},c,a))},e.handleSubmit=function(t){t.preventDefault(),m.signup(e.state).then((function(){e.props.history.push("/signin")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.props.context.user?Object(O.jsx)(g.a,{to:"/"}):Object(O.jsx)("div",{className:"login-form card shadow",children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("h2",{className:"text-center",children:"Sign Up"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Email",required:"required",onChange:this.handleChange,value:this.state.email})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.password,type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:"required"})]}),Object(O.jsxs)("div",{className:"mt-2 text-center",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"Create Account"}),Object(O.jsxs)("p",{className:"text-center mt-2",children:["Already a user? ",Object(O.jsx)(r.b,{to:"/signin",children:"Sign In"})]})]})]})})}}]),a}(c.Component),V=Object(g.g)(N(K)),G=function(e){return Object(O.jsx)(V,{})},T=a(26),H=["component","context"],Y=N((function(e){var t=e.component,a=e.context,c=Object(T.a)(e,H);return a.isLoading?null:a.isLoggedIn?Object(O.jsx)(g.b,Object(f.a)(Object(f.a)({},c),{},{render:function(e){return Object(O.jsx)(t,Object(f.a)({},e))}})):Object(O.jsx)(g.a,{to:"/signin"})})),J=a(16),z=a.n(J),W=a(21),Q=(a(89),a(51)),X=a.n(Q),Z=N(function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={},c.callback=null,c.callback=e.callback,c.handleFavouriteClick=c.handleFavouriteClick.bind(Object(y.a)(c)),c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.recipe;this.setState({recipe:e})}},{key:"handleFavouriteClick",value:function(){var e=Object(W.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.context.isLoggedIn){e.next=13;break}if(!this.state.recipe.isUserFavourite){e.next=6;break}return e.next=4,m.unsetFavRecipe(this.state.recipe._id);case 4:e.next=8;break;case 6:return e.next=8,m.setFavRecipe(this.state.recipe._id);case 8:this.state.recipe.isUserFavourite=!this.state.recipe.isUserFavourite,this.setState({recipe:Object(f.a)({},this.state.recipe)}),this.callback&&this.callback(),e.next=14;break;case 13:X()("You're not logged In","You need to log in to save favourites to your profile!","warning");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.recipe?Object(O.jsx)("div",{className:"main-content",onClick:this.handleFavouriteClick,children:Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"checkbox",className:"favourite-checkBox",onChange:function(){},defaultChecked:this.state.recipe.isUserFavourite},Math.random()),Object(O.jsx)("label",{htmlFor:this.state.recipe._id,children:Object(O.jsx)("svg",{className:"heart-svg",viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsxs)("g",{className:"Group",fill:"none",fillRule:"evenodd",transform:"translate(467 392)",children:[Object(O.jsx)("path",{d:"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z",className:"heart",fill:"#AAB8C2"}),Object(O.jsx)("circle",{className:"main-circ",fill:"#E2264D",opacity:"0",cx:"29.5",cy:"29.5",r:"1.5"}),Object(O.jsxs)("g",{className:"grp7",opacity:"0",transform:"translate(7 6)",children:[Object(O.jsx)("circle",{className:"oval1",fill:"#9CD8C3",cx:"2",cy:"6",r:"2"}),Object(O.jsx)("circle",{className:"oval2",fill:"#8CE8C3",cx:"5",cy:"2",r:"2"})]}),Object(O.jsxs)("g",{className:"grp6",opacity:"0",transform:"translate(0 28)",children:[Object(O.jsx)("circle",{className:"oval1",fill:"#CC8EF5",cx:"2",cy:"7",r:"2"}),Object(O.jsx)("circle",{className:"oval2",fill:"#91D2FA",cx:"3",cy:"2",r:"2"})]}),Object(O.jsxs)("g",{className:"grp3",opacity:"0",transform:"translate(52 28)",children:[Object(O.jsx)("circle",{className:"oval2",fill:"#9CD8C3",cx:"2",cy:"7",r:"2"}),Object(O.jsx)("circle",{className:"oval1",fill:"#8CE8C3",cx:"4",cy:"2",r:"2"})]}),Object(O.jsxs)("g",{className:"grp2",opacity:"0",transform:"translate(44 6)",children:[Object(O.jsx)("circle",{className:"oval2",fill:"#CC8EF5",cx:"5",cy:"6",r:"2"}),Object(O.jsx)("circle",{className:"oval1",fill:"#CC8EF5",cx:"2",cy:"2",r:"2"})]}),Object(O.jsxs)("g",{className:"grp5",opacity:"0",transform:"translate(14 50)",children:[Object(O.jsx)("circle",{className:"oval1",fill:"#91D2FA",cx:"6",cy:"5",r:"2"}),Object(O.jsx)("circle",{className:"oval2",fill:"#91D2FA",cx:"2",cy:"2",r:"2"})]}),Object(O.jsxs)("g",{className:"grp4",opacity:"0",transform:"translate(35 50)",children:[Object(O.jsx)("circle",{className:"oval1",fill:"#F48EA7",cx:"6",cy:"5",r:"2"}),Object(O.jsx)("circle",{className:"oval2",fill:"#F48EA7",cx:"2",cy:"2",r:"2"})]}),Object(O.jsxs)("g",{className:"grp1",opacity:"0",transform:"translate(24)",children:[Object(O.jsx)("circle",{className:"oval1",fill:"#9FC7FA",cx:"2.5",cy:"3",r:"2"}),Object(O.jsx)("circle",{className:"oval2",fill:"#9FC7FA",cx:"7.5",cy:"2",r:"2"})]})]})})})]})}):""}}]),a}(c.Component)),$=(a(91),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={recipe:e.props.recipe,initData:e.props.initData},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"OneRecipe",children:[Object(O.jsxs)("div",{className:"RecipeName",children:[Object(O.jsx)(r.b,{to:"/Recipes/Details/".concat(this.state.recipe._id),children:this.state.recipe.name}),Object(O.jsx)(Z,{recipe:this.state.recipe,callback:this.state.initData,className:"FavBtn"},this.state.recipe._id)]}),Object(O.jsxs)("div",{className:"recipeInfo",children:[Object(O.jsx)("div",{style:{backgroundImage:"url(".concat(this.state.recipe.image,")")},className:"MiniRecipe-Img",children:" "}),Object(O.jsxs)("div",{className:"RecipesDetails",children:[Object(O.jsxs)("p",{children:["Preparation time : ",this.state.recipe.prep," min"]}),Object(O.jsxs)("p",{children:["Cooking time : ",this.state.recipe.cook," min"]}),Object(O.jsxs)("p",{children:["Difficulty : ",Object(O.jsx)("span",{className:"difficulty-"+this.state.recipe.difficulty})]})]})]})]})}}]),a}(c.Component)),ee=N(function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={favoriteRecipes:[]},c.initData=c.initData.bind(Object(y.a)(c)),c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(){var e=this;m.getFavRecipe(this.props.match.params.id).then((function(t){var a=t;e.setState({favoriteRecipes:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.context.user;return Object(O.jsx)("section",{children:Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsxs)("h2",{className:"mb-5",children:["Hello ",t.username,", In this section you can find all your favourite recipes !"]}),Object(O.jsx)("div",{className:"m-5",children:Object(O.jsxs)("div",{className:"card d-flex flex-row flex-wrap justify-content-center ",children:[0===this.state.favoriteRecipes.length&&Object(O.jsx)("h5",{children:"You don't have any favourite recipes."}),0!==this.state.favoriteRecipes.length&&this.state.favoriteRecipes.map((function(t){return Object(O.jsx)("div",{className:"m-2 border rounded",children:Object(O.jsx)($,{recipe:t,initData:e.initData})},t._id)}))]})})]})})}}]),a}(c.Component)),te=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={Recipes:{mainDishes:[],desserts:[],beverages:[]}},c.initData=c.initData.bind(Object(y.a)(c)),c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(){var e=this;m.getRecipes().then((function(t){e.setState({Recipes:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("section",{className:"categories",children:[Object(O.jsxs)("div",{id:"mainDishes",className:"recipe-container",children:[Object(O.jsx)("h2",{className:"CategorieName",children:"Main Dishes"}),Object(O.jsx)("hr",{}),this.state.Recipes.mainDishes.map((function(t){return Object(O.jsx)($,{recipe:t,initData:e.initData},t._id)}))]}),Object(O.jsxs)("div",{id:"desserts",className:"recipe-container",children:[Object(O.jsx)("h2",{className:"CategorieName",children:"Desserts"}),Object(O.jsx)("hr",{}),this.state.Recipes.desserts.map((function(t){return Object(O.jsx)($,{recipe:t,initData:e.initData},t._id)}))]}),Object(O.jsxs)("div",{id:"beverages",className:"recipe-container",children:[Object(O.jsx)("h2",{className:"CategorieName",children:"Beverages"}),Object(O.jsx)("hr",{}),this.state.Recipes.beverages.map((function(t){return Object(O.jsx)($,{recipe:t,initData:e.initData},t._id)}))]})]})}}]),a}(c.Component),ae=(a(92),a(93),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={recipeId:c.props.recipeId,rating:3,comment:""},c.submitCallBack=null,c.handleSubmit=function(){var e=Object(W.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={rating:c.state.rating,comment:c.state.comment},e.next=4,m.postRating(c.state.recipeId,a);case 4:c.submitCallBack&&c.submitCallBack();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.handleChange=c.handleChange.bind(Object(y.a)(c)),c.submitCallBack=c.props.submitCallBack,c}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(_.a)({},t,a))}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"border rounded mt-3 p-2",children:[Object(O.jsx)("p",{children:"Rate this Recipe !"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"rating",children:"Rate"}),Object(O.jsxs)("select",{className:"form-control",name:"rating",value:this.state.rating,onChange:this.handleChange,children:[Object(O.jsx)("option",{value:"1",children:"1"}),Object(O.jsx)("option",{value:"2",children:"2"}),Object(O.jsx)("option",{value:"3",children:"3"}),Object(O.jsx)("option",{value:"4",children:"4"}),Object(O.jsx)("option",{value:"5",children:"5"})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(O.jsx)("textarea",{className:"form-control",name:"comment",value:this.state.comment,onChange:this.handleChange,required:!0})]}),Object(O.jsx)("div",{className:"mt-2 rating-btns",children:Object(O.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:this.handleSubmit,children:"Submit"})})]})]})}}]),a}(c.Component)),ce=N(function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={Recipe:null,initData:c.props.initData},c.removeRecipe=c.removeRecipe.bind(Object(y.a)(c)),c.removeRating=c.removeRating.bind(Object(y.a)(c)),c.initData=c.initData.bind(Object(y.a)(c)),c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(){var e=this;m.getRecipe(this.props.match.params.id).then((function(t){e.setState({Recipe:t})})).catch((function(e){console.log(e)}))}},{key:"removeRecipe",value:function(){var e=Object(W.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.removeRecipe(this.props.match.params.id);case 2:this.props.history.push("/Recipes");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeRating",value:function(){var e=Object(W.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.removeRating(t);case 2:this.initData();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.Recipe?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"AllRecipeDetails",children:[Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"one-recipe-full rounded-div mb-2",children:Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("div",{className:"recipe-image-left",children:Object(O.jsx)("div",{style:{backgroundImage:"url(".concat(this.state.Recipe.image,")")},className:"OneRecipe-Img",children:" "})}),Object(O.jsxs)("div",{className:"recipe-details-full",children:[Object(O.jsxs)("div",{className:"one-recipe-title",children:[Object(O.jsx)("h2",{children:this.state.Recipe.name}),Object(O.jsx)(Z,{recipe:this.state.Recipe,className:"FavBtn"})]}),Object(O.jsxs)("div",{className:"mainInfo",children:[Object(O.jsxs)("p",{children:[this.state.Recipe.prep,"min of Prepration"]}),Object(O.jsxs)("p",{children:[this.state.Recipe.cook," min of cooking"]}),Object(O.jsxs)("p",{children:["Difficulty : ",Object(O.jsx)("span",{className:"difficulty-"+this.state.Recipe.difficulty})]})]}),Object(O.jsx)("table",{className:"nutritious-values",children:Object(O.jsxs)("tbody",{children:[Object(O.jsx)("tr",{children:Object(O.jsx)("th",{colSpan:"6",children:"Nutritious Value"})}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Kcal"}),Object(O.jsx)("th",{children:"carbs"}),Object(O.jsx)("th",{children:"fiber"}),Object(O.jsx)("th",{children:"protein"}),Object(O.jsx)("th",{children:"sugars"}),Object(O.jsx)("th",{children:"salts"})]}),Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{children:[this.state.Recipe.nutrition.kcal,"kcal"]}),Object(O.jsxs)("td",{children:[this.state.Recipe.nutrition.carbs,"g"]}),Object(O.jsxs)("td",{children:[this.state.Recipe.nutrition.fiber,"g"]}),Object(O.jsxs)("td",{children:[this.state.Recipe.nutrition.protein,"g"]}),Object(O.jsxs)("td",{children:[this.state.Recipe.nutrition.sugars,"g"]}),Object(O.jsxs)("td",{children:[this.state.Recipe.nutrition.salts,"g"]})]})]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:"Ingredients"})}),Object(O.jsx)("ul",{className:"ingredient-list",children:this.state.Recipe.ingredients.map((function(e){return Object(O.jsx)("li",{children:e},e)}))})]})]})]})})}),this.props.context.isAdmin&&Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-outline-danger m-2",onClick:this.removeRecipe,children:"Delete Recipe"}),Object(O.jsx)(r.c,{className:"btn btn-outline-secondary m-2",to:"/Recipes/update/".concat(this.props.match.params.id),children:"Edit Recipes"})]}),Object(O.jsxs)("div",{className:"mt-2 rounded-div mb-5 rating-box",children:[Object(O.jsx)("div",{children:this.state.Recipe.ratings.map((function(t){return Object(O.jsxs)("div",{className:"border rounded m-1 p-2",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:[t.user.email,"  : ",t.rating," /5"]})}),Object(O.jsx)("div",{children:t.comment})]}),e.props.context.isAdmin&&Object(O.jsx)("div",{className:"rating-btns",children:Object(O.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:function(){return e.removeRating(t._id)},children:"Delete"})})]},t._id)}))}),!this.props.context.isLoggedIn&&Object(O.jsx)("p",{className:"mt-5",children:"Log in in order to rate recipes !"}),this.props.context.isLoggedIn&&this.state.Recipe.canComment&&Object(O.jsx)(ae,{recipeId:this.state.Recipe._id,submitCallBack:this.initData})]})]})}):Object(O.jsx)("div",{children:"Loading ..."})}}]),a}(c.Component)),ne=a(28),se=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={name:"",image:"",prep:0,cook:0,category:"",difficulty:0,nutrition:{kcal:"",carbs:"",fiber:"",protein:"",sugars:"",salts:""},ingredients:[],title:"Create new Recipe"},c.handleAddClick=function(){c.setState({ingredients:[].concat(Object(ne.a)(c.state.ingredients),[""])})},c.handleSubmit=function(){var e=Object(W.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={name:c.state.name,image:c.state.image,category:c.state.category,difficulty:c.state.difficulty,prep:c.state.prep,cook:c.state.cook,nutrition:c.state.nutrition,ingredients:c.state.ingredients},n=m.jsonToFormData(a),!c.props.match.params.id){e.next=9;break}return a._id=c.props.match.params.id,e.next=7,m.updateRecipe(a._id,n);case 7:e.next=11;break;case 9:return e.next=11,m.postRecipe(n);case 11:c.props.history.push("/Recipes");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.handleChange=c.handleChange.bind(Object(y.a)(c)),c.handleNutritiousChange=c.handleNutritiousChange.bind(Object(y.a)(c)),c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id&&m.getRecipe(this.props.match.params.id).then((function(t){var a={name:t.name,image:t.image,prep:t.prep,cook:t.cook,category:t.category,difficulty:t.difficulty,nutrition:t.nutrition,ingredients:t.ingredients,title:"Edit "+t.name};e.setState(a)}))}},{key:"getTitle",value:function(){return this.title}},{key:"handleChange",value:function(e){var t=e.target.id,a="checkbox"===e.target.type?e.target.checked:"file"===e.target.type?e.target.files[0]:e.target.value;this.setState(Object(_.a)({},t,a))}},{key:"handleNutritiousChange",value:function(e){var t=e.target.id,a=e.target.value,c=this.state.nutrition;c||(c={}),c[t]=a,this.setState({nutrition:c})}},{key:"handleIngredientsChange",value:function(e,t){var a=Object(ne.a)(this.state.ingredients);a[t]=e.target.value,this.setState({ingredients:[a]})}},{key:"handleRemoveClick",value:function(e){var t=Object(ne.a)(this.state.ingredients);t.splice(e,1),this.setState({ingredients:t})}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"container mb-3",style:{maxWidth:"850px"},children:Object(O.jsx)("div",{className:"card",children:Object(O.jsxs)("form",{className:"card-body",children:[Object(O.jsx)("h2",{className:"title",children:this.state.title}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{id:"name",className:"form-control",type:"text",onChange:this.handleChange,value:this.state.name,required:!0})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"image",children:"Upload image"}),Object(O.jsx)("input",{className:"form-control",id:"image",type:"file",onChange:this.handleChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"category",children:"Category"}),Object(O.jsxs)("select",{id:"category",className:"form-select",value:this.state.category,onChange:this.handleChange,required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),Object(O.jsx)("option",{value:"Main dish",children:"Main Dish"}),Object(O.jsx)("option",{value:"Dessert",children:"Dessert"}),Object(O.jsx)("option",{value:"Beverage",children:"Beverage"})]})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"prep",children:"Preparation time"}),Object(O.jsx)("input",{className:"form-control",value:this.state.prep,id:"prep",type:"number",onChange:this.handleChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"cook",children:"Cooking time"}),Object(O.jsx)("input",{className:"form-control",value:this.state.cook,id:"cook",type:"number",onChange:this.handleChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"category",children:"Difficulty"}),Object(O.jsxs)("select",{id:"difficulty",className:"form-select",value:this.state.difficulty,onChange:this.handleChange,required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select a difficulty"}),Object(O.jsx)("option",{value:"1",children:"Easy"}),Object(O.jsx)("option",{value:"2",children:"More Effort"}),Object(O.jsx)("option",{value:"3",children:"Challenging"})]})]}),Object(O.jsxs)("div",{className:"form-control mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"cook",children:"Nutritious Values"}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"kcal",children:"Kcal"}),Object(O.jsx)("input",{className:"form-control",value:this.state.nutrition.kcal,id:"kcal",type:"number",onChange:this.handleNutritiousChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"carbs",children:"Carbs"}),Object(O.jsx)("input",{className:"form-control",value:this.state.nutrition.carbs,id:"carbs",type:"number",onChange:this.handleNutritiousChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"fiber",children:"Fiber"}),Object(O.jsx)("input",{className:"form-control",value:this.state.nutrition.fiber,id:"fiber",type:"number",onChange:this.handleNutritiousChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"protein",children:"Protein"}),Object(O.jsx)("input",{className:"form-control",value:this.state.nutrition.protein,id:"protein",type:"number",onChange:this.handleNutritiousChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"sugars",children:"Sugars"}),Object(O.jsx)("input",{className:"form-control",value:this.state.nutrition.sugars,id:"sugars",type:"number",onChange:this.handleNutritiousChange})]}),Object(O.jsxs)("div",{className:"form-group mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"salts",children:"Salts"}),Object(O.jsx)("input",{className:"form-control",value:this.state.nutrition.salts,id:"salts",type:"number",onChange:this.handleNutritiousChange})]})]}),Object(O.jsxs)("div",{className:"form-control mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"ingredients",children:"Ingredients"}),this.state.ingredients.map((function(t,a){return Object(O.jsxs)("div",{className:"input-group mb-2",children:[Object(O.jsx)("input",{type:"text",className:"form-control",onChange:function(t){return e.handleIngredientsChange(t,a)},value:t,placeholder:"Add Recipe's Ingredients"}),Object(O.jsx)("button",{className:"btn btn-sm btn-outline-danger",type:"button",onClick:function(){return e.handleRemoveClick(a)},children:"Remove"})]},a)}))]}),Object(O.jsxs)("div",{className:"flex justify-content-end",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-success m-1",onClick:this.handleAddClick,children:"Add Ingredients"}),Object(O.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary m-1",onClick:this.handleSubmit,children:"Submit"})]})]})})})}}]),a}(c.Component),ie=["component","context"],re=N((function(e){var t=e.component,a=e.context,c=Object(T.a)(e,ie);return a.isLoading?null:a.isLoggedIn&&a.isAdmin?Object(O.jsx)(g.b,Object(f.a)(Object(f.a)({},c),{},{render:function(e){return Object(O.jsx)(t,Object(f.a)({},e))}})):Object(O.jsx)(g.a,{to:"/signin"})})),le=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).state={recipes:[],search:c.props.match.params.search},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.search&&m.getSearchResults(this.state.search).then((function(t){e.setState({recipes:t})}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"text-center ",children:[Object(O.jsxs)("h2",{className:"mb-5",children:["Search results for ",this.state.search]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"m-5 shadow",children:Object(O.jsx)("div",{className:"card d-flex flex-row flex-wrap justify-content-center p-2",children:this.state.recipes.map((function(e){return Object(O.jsx)("div",{className:"m-1 border rounded",children:Object(O.jsx)($,{recipe:e})},e._id)}))})})]})}}]),a}(c.Component);a(94),a(95);var oe=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(E,{}),Object(O.jsxs)(g.d,{children:[Object(O.jsx)(g.b,{exact:!0,path:"/",component:B}),Object(O.jsx)(g.b,{exact:!0,path:"/signin",component:P}),Object(O.jsx)(g.b,{exact:!0,path:"/signup",component:G}),Object(O.jsx)(g.b,{exact:!0,path:"/Recipes",component:te}),Object(O.jsx)(g.b,{exact:!0,path:"/Recipes/Search",component:function(e){return Object(c.createElement)(le,Object(f.a)(Object(f.a)({},e),{},{key:window.location.pathname}))}}),Object(O.jsx)(g.b,{exact:!0,path:"/Recipes/Search/:search",component:function(e){return Object(c.createElement)(le,Object(f.a)(Object(f.a)({},e),{},{key:window.location.pathname}))}}),Object(O.jsx)(re,{exact:!0,path:"/Recipes/create",component:function(e){return Object(c.createElement)(se,Object(f.a)(Object(f.a)({},e),{},{key:window.location.pathname}))}}),Object(O.jsx)(re,{exact:!0,path:"/Recipes/update/:id",component:function(e){return Object(c.createElement)(se,Object(f.a)(Object(f.a)({},e),{},{key:window.location.pathname}))}}),Object(O.jsx)(g.b,{exact:!0,path:"/Recipes/Details/:id",component:ce}),Object(O.jsx)(Y,{exact:!0,path:"/profile",component:ee})]})]})};a(96),a(97);i.a.render(Object(O.jsx)(r.a,{children:Object(O.jsx)(x,{children:Object(O.jsx)(oe,{})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.5da9643b.chunk.js.map